{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "id": "http://justice.gov.uk/core/courts/public/defendant.json",
  "type": "object",
  "description": "The defendant for an individual prosecution case.  Defendant details are NOT associated to multiple prosecution cases.  HMCTS business does not have authority to merge defendant details or recognise a single view of defendant",
  "properties": {
    "id": {
      "$ref": "courtsDefinitions.json#/definitions/uuid"
    },
    "prosecutionCaseId": {
      "description": "The prosecution case technical identifier",
      "$ref": "courtsDefinitions.json#/definitions/uuid"
    },
    "numberOfPreviousConvictionsCited": {
      "description": "The number of previous convictions cited by the case prosecuting authority",
      "$ref": "courtsDefinitions.json#/definitions/positiveInteger"
    },
    "prosecutionAuthorityReference": {
      "description": "The prosecuting authorities reference for the defendant for the given case",
      "type": "string"
    },
	"witnessStatement": {
      "type": "string"
    },
	"witnessStatementWelsh": {
      "type": "string"
    },
    "mitigation": {
      "type": "string"
    },
	"mitigationWelsh": {
      "type": "string"
    },
    "offences": {
      "type": "array",
      "minItems": 1,
      "items": {
        "$ref": "offence.json"
      }
    },
    "associatedPersons": {
      "type": "array",
      "minItems": 1,
      "items": {
        "$ref": "associatedPerson.json"
      }
    },
    "associatedDefenceOrganisations": {
      "description": "The collection of associated defence representation details",
      "type": "array",
      "items": {
		  "$ref": "associatedDefenceOrganisation.json"
      }
    },
    "personDefendant": {
      "description": "When the defendant is a person the additional person specific details for the defendant",
      "$ref": "personDefendant.json"
    },
    "legalEntityDefendant": {
      "description": "When the defendant is a legal entity the additional legal entity specific details for the defendant",
      "$ref": "legalEntityDefendant.json"
    },
    "aliases": {
      "type": "array",
      "minItems": 1,
      "items": {
        "$ref": "defendantAlias.json#"
      }
    },
    "judicialResults": {
      "description": "A record of any judicial decisions and results made against the defendant",
      "type": "array",
      "minItems": 1,
      "items": {
        "$ref": "judicialResult.json"
      }
    },
    "croNumber": {
      "description": "National Identification Service (formerly Criminal Records Office) Number (fingerprint number)",
      "type": "string"
    },
    "pncId": {
      "type": "string"
    },
    "defendantMarkers": {
		"type": "array",
		"minItems": 1,
		"items": {
			"$ref": "marker.json#"
		}
	},
	"splitProsecutorCaseReferences": {
		"description": "When the case has been split, indicates the parts of the split that this defendant is being prosecuted under",
		"type": "array",
		"minItems": 2,
		"items": {
			"type": "string"
		}
	},
	"mergedProsecutionCaseReference": {
      "description": "When a cases are merged, if this defendant is a subject of the merge, the reference is set accordingly",
      "type": "string"
    },
    "linkedDefendants": {
		"type": "array",
		"minItems": 1,
		"items": {
			"$ref": "linkedDefendant.json#"
		}
	}
  },  
  "oneOf": [
    {
      "required": [
		"id",
		"prosecutionCaseId",
		"offences",
		"personDefendant"
	  ]
    },
    {
      "required": [
		"id",
		"prosecutionCaseId",
		"offences",
		"legalEntityDefendant"
	  ]
    }
  ],
  "additionalProperties": false
}